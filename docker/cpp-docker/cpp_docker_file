FROM ubuntu:22.04
LABEL Description="Build environment"

ENV HOME /root
ARG BOOST_V 1_81_0
ENV BOOST_V_ $BOOST_V

RUN echo "$BOOST_V"  
RUN echo "$BOOST_V_"  

SHELL ["/bin/bash", "-c"]

RUN apt-get update && apt-get -y --no-install-recommends install \
    build-essential \
    clang \
    cmake \
    gdb \
    wget \
    vim \
    software-properties-common -y 

#RUN add-apt-repository ppa:deadsnakes/ppa -y 
#RUN apt-get -y --no-install-recommends install python3.10 -y 
#RUN python3 -m pip install commentjson

COPY resources/boost_${BOOST_V_}.tar.gz ${HOME}     
COPY resources/pack ${HOME}     


RUN cd ${HOME} && \
        tar xzf ./boost_${BOOST_V_}.tar.gz && \
        cd ./boost_${BOOST_V_} && \
        ./bootstrap.sh && \
        ./b2 install && \
        cd .. && \
        rm -rf ./boost_${BOOST_V_}

