usage(){ 
echo "Usage: $(basename $0) f [dir=.]
  - use within ~/.w
  - WPKGMGR=noop|brew change default behavior 
"
exit 1 
}
if ( [[ ! $PWD =~ "$HOME/.w" ]]  || [[ $# -lt 1 ]] ); then
 usage 
fi
FUNC=$1
D=$HOME/.w/app/$2 
if [[ "$2" == "" ]]; then
    DIR=$PWD
elif [[ -d  $D ]]; then
    DIR=$D 
else
    usage    
fi
( 
    cd $DIR  
    source ~/.w/app/lib/setup.sh  
    [[ -f ./setup.sh ]] && source ./setup.sh 
    eval "$FUNC" 
)
